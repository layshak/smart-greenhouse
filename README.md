# üå± ESP8266 –°–∏—Å—Ç–µ–º–∞ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –†–∞—Å—Ç–µ–Ω–∏–π —Å –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏ –≤ Telegram –∏ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –°–≤–µ—Ç–æ–º

–ü—Ä–æ—Å—Ç–æ–π, –Ω–æ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π –ø—Ä–æ–µ–∫—Ç –Ω–∞ –±–∞–∑–µ ESP8266 –¥–ª—è —É–¥–∞–ª—ë–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è –∑–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –∫–æ–º–Ω–∞—Ç–Ω—ã—Ö —Ä–∞—Å—Ç–µ–Ω–∏–π. –°–∏—Å—Ç–µ–º–∞ –∏–∑–º–µ—Ä—è–µ—Ç –≤–ª–∞–∂–Ω–æ—Å—Ç—å –ø–æ—á–≤—ã –∏ —É—Ä–æ–≤–µ–Ω—å –æ—Å–≤–µ—â—ë–Ω–Ω–æ—Å—Ç–∏, –æ—Ç–ø—Ä–∞–≤–ª—è—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ Telegram –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–∫–ª—é—á–∞–µ—Ç —Å–≤–µ—Ç –ø—Ä–∏ –Ω–∏–∑–∫–æ–π –æ—Å–≤–µ—â—ë–Ω–Ω–æ—Å—Ç–∏.

---

## ‚öôÔ∏è –ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **–ò–∑–º–µ—Ä–µ–Ω–∏–µ –≤–ª–∞–∂–Ω–æ—Å—Ç–∏ –ø–æ—á–≤—ã:** –ï–º–∫–æ—Å—Ç–Ω—ã–π –¥–∞—Ç—á–∏–∫ –¥–ª—è —Ç–æ—á–Ω—ã—Ö –∏ –¥–æ–ª–≥–æ–≤–µ—á–Ω—ã—Ö –∏–∑–º–µ—Ä–µ–Ω–∏–π.
- **–ò–∑–º–µ—Ä–µ–Ω–∏–µ –æ—Å–≤–µ—â—ë–Ω–Ω–æ—Å—Ç–∏:** –¶–∏—Ñ—Ä–æ–≤–æ–π –¥–∞—Ç—á–∏–∫ TSL2561 –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è –≤ –ª—é–∫—Å–∞—Ö.
- **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ Telegram:** –°–æ–æ–±—â–µ–Ω–∏—è, –µ—Å–ª–∏ —Ä–∞—Å—Ç–µ–Ω–∏—é —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–æ–ª–∏–≤ –∏–ª–∏ –≤–∫–ª—é—á—ë–Ω/–≤—ã–∫–ª—é—á–µ–Ω —Å–≤–µ—Ç.
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–∫–ª—é—á–µ–Ω–∏–µ —Å–≤–µ—Ç–∞:** –ü—Ä–∏ —Å–Ω–∏–∂–µ–Ω–∏–∏ –æ—Å–≤–µ—â—ë–Ω–Ω–æ—Å—Ç–∏ –Ω–∏–∂–µ –ø–æ—Ä–æ–≥–∞.
- **–ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–π –ø–æ—Ä–æ–≥ –≤–ª–∞–∂–Ω–æ—Å—Ç–∏:** –ü–æ–¥—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –ø–æ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ —Ä–∞—Å—Ç–µ–Ω–∏–µ –∏ —Ç–∏–ø –ø–æ—á–≤—ã.
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Wi-Fi:** –°–∏—Å—Ç–µ–º–∞ —Å–∞–º–∞ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –ø—Ä–∏ –æ–±—Ä—ã–≤–µ —Å–µ—Ç–∏.

---

## üß∞ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç             | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----------------------|----------|
| –ü–ª–∞—Ç–∞ ESP8266         | NodeMCU, Wemos D1 Mini –∏ —Ç.–ø. |
| –î–∞—Ç—á–∏–∫ –≤–ª–∞–∂–Ω–æ—Å—Ç–∏      | –ï–º–∫–æ—Å—Ç–Ω—ã–π Capacitive Soil Moisture Sensor |
| –î–∞—Ç—á–∏–∫ —Å–≤–µ—Ç–∞          | Adafruit TSL2561 |
| –ú–æ–¥—É–ª—å —Å–≤–µ—Ç–∞ (—Ä–µ–ª–µ)   | –î–ª—è –≤–∫–ª—é—á–µ–Ω–∏—è –ª–∞–º–ø—ã –∏–ª–∏ —Å–≤–µ—Ç–æ–¥–∏–æ–¥–∞ |
| –ü—Ä–æ–≤–æ–¥–∞               | –ü–∞–ø–∞-–º–∞–º–∞, –ø–∞–ø–∞-–ø–∞–ø–∞ |
| –ü–∏—Ç–∞–Ω–∏–µ               | Micro-USB –∫–∞–±–µ–ª—å –∏ –∏—Å—Ç–æ—á–Ω–∏–∫ 5–í |

---

## üîå –°—Ö–µ–º–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

| –ü–∏–Ω ESP8266     | –î–∞—Ç—á–∏–∫ –≤–ª–∞–∂–Ω–æ—Å—Ç–∏      | –î–∞—Ç—á–∏–∫ TSL2561      | –°–≤–µ—Ç (—Ä–µ–ª–µ –∏–ª–∏ —Å–≤–µ—Ç–æ–¥–∏–æ–¥) |
|------------------|------------------------|----------------------|----------------------------|
| A0               | AOUT                   |                      |                            |
| D1 (GPIO5)       |                        | SCL (Clock)          |                            |
| D2 (GPIO4)       |                        | SDA (Data)           |                            |
| D5 (GPIO14)      |                        |                      | IN (–Ω–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–≤–µ—Ç–æ–º)  |
| 3V3              | VCC                    | VCC                  | VCC                        |
| GND              | GND                    | GND                  | GND                        |

---

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Arduino IDE –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ ESP8266

- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Arduino IDE.
- –í –º–µ–Ω—é **–§–∞–π–ª > –ù–∞—Å—Ç—Ä–æ–π–∫–∏** –¥–æ–±–∞–≤—å—Ç–µ URL:
  ```
  http://arduino.esp8266.com/stable/package_esp8266com_index.json
  ```
- –û—Ç–∫—Ä–æ–π—Ç–µ **–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã > –ü–ª–∞—Ç–∞ > –ú–µ–Ω–µ–¥–∂–µ—Ä –ø–ª–∞—Ç**, –Ω–∞–π–¥–∏—Ç–µ **esp8266** –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ.

### 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —á–µ—Ä–µ–∑ **–°–∫–µ—Ç—á > –ü–æ–¥–∫–ª—é—á–∏—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫—É > –£–ø—Ä–∞–≤–ª—è—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º–∏...** —Å–ª–µ–¥—É—é—â–∏–µ:

- `UniversalTelegramBot` (Brian Lough)
- `ArduinoJson` (Benoit Blanchon)
- `Adafruit TSL2561 Unified`
- `Adafruit Unified Sensor`

### 3. –°–æ–∑–¥–∞–Ω–∏–µ Telegram-–±–æ—Ç–∞

1. –í Telegram –æ—Ç–∫—Ä–æ–π—Ç–µ `@BotFather`.
2. –°–æ–∑–¥–∞–π—Ç–µ –±–æ—Ç–∞ —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥—É `/newbot` –∏ –ø–æ–ª—É—á–∏—Ç–µ **BOT_TOKEN**.
3. –ù–∞–ø–∏—à–∏—Ç–µ —á—Ç–æ-–Ω–∏–±—É–¥—å –±–æ—Ç—É `@my_id_bot` –∏ –ø–æ–ª—É—á–∏—Ç–µ –≤–∞—à **CHAT_ID**.

### 4. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–∫–µ—Ç—á–∞

–û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `.ino` –∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –≤ —Å–µ–∫—Ü–∏–∏ `// --- –ù–ê–°–¢–†–û–ô–ö–ò ---`:

```cpp
const char* ssid = "–í–ê–®_WIFI_SSID";
const char* password = "–í–ê–®_WIFI_–ü–ê–†–û–õ–¨";
#define BOT_TOKEN "–í–ê–®_–ë–û–¢_–¢–û–ö–ï–ù"
#define CHAT_ID "–í–ê–®_CHAT_ID"
const int SOIL_MOISTURE_THRESHOLD = 700; // –ü–æ—Ä–æ–≥ —Å—É—Ö–æ—Å—Ç–∏ –ø–æ—á–≤—ã
```

### 5. –ö–∞–ª–∏–±—Ä–æ–≤–∫–∞ –¥–∞—Ç—á–∏–∫–∞ –≤–ª–∞–∂–Ω–æ—Å—Ç–∏

- –ó–∞–≥—Ä—É–∑–∏—Ç–µ –∫–æ–¥ –∏ –æ—Ç–∫—Ä–æ–π—Ç–µ **–ú–æ–Ω–∏—Ç–æ—Ä –ø–æ—Ä—Ç–∞** (9600 –±–æ–¥).
- –í—Å—Ç–∞–≤—å—Ç–µ –¥–∞—Ç—á–∏–∫ –≤ —Å—É—Ö—É—é –ø–æ—á–≤—É ‚Äî –∑–∞–ø–æ–º–Ω–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ.
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `SOIL_MOISTURE_THRESHOLD` —á—É—Ç—å –Ω–∏–∂–µ.

---

## üîÑ –ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã

- `setup()`:
  - –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Wi-Fi.
  - –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞—Ç—á–∏–∫–æ–≤.
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ Telegram-–±–æ—Ç–∞.
  
- `loop()` (—Ä–∞–∑ –≤ –º–∏–Ω—É—Ç—É):
  - –°—á–∏—Ç—ã–≤–∞–µ—Ç –≤–ª–∞–∂–Ω–æ—Å—Ç—å –ø–æ—á–≤—ã.
    - –ï—Å–ª–∏ –Ω–∏–∂–µ –ø–æ—Ä–æ–≥–∞ ‚Äî –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –∏ –≤–∫–ª—é—á–∞–µ—Ç —Ñ–ª–∞–≥ `notificationSent`.
    - –ï—Å–ª–∏ –≤—ã—à–µ ‚Äî —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç —Ñ–ª–∞–≥.
  - –°—á–∏—Ç—ã–≤–∞–µ—Ç –æ—Å–≤–µ—â—ë–Ω–Ω–æ—Å—Ç—å:
    - –ï—Å–ª–∏ –Ω–∏–∂–µ `30 –ª—é–∫—Å` ‚Äî –≤–∫–ª—é—á–∞–µ—Ç —Å–≤–µ—Ç –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ.
    - –ï—Å–ª–∏ –≤—ã—à–µ ‚Äî –≤—ã–∫–ª—é—á–∞–µ—Ç —Å–≤–µ—Ç –∏ —É–≤–µ–¥–æ–º–ª—è–µ—Ç.
  - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ Wi-Fi –∏ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.

---

## üìú –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π **MIT**. –ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ ‚Äî –≤ —Ñ–∞–π–ª–µ `LICENSE`.